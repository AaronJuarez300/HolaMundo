<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">
        <img src="https://cdn.svgporn.com/logos/gusto.svg" width="30" height="30" class="d-inline-block align-top" alt="" >
        GTSales
      </a>
      <button type="button" (click)="gotoHome()" class="btn btn-dark">Home</button>
      <button type="button" (click)="gotoCreateProduct()" class="btn btn-dark">Producto</button>
      <button type="button" (click)="cerrarSesion()" class="btn btn-dark">Cerrar Sesion</button>
      <button type="button" (click)="gotoCarrito()"  class="btn btn-dark">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
          </svg>
      </button>     
  </nav>

  <div class="container" style="margin-top: 5%">  
  <div class="table-responsive">
    <table class="table">
        <thead>    
            <tr>    
                <th></th>    
                <th>Producto</th>    
                <th>Cantidad</th>    
                <th>Precio</th>
                <th>Subtotal</th>    
            </tr>
        </thead> 
            <tbody>    
                <tr *ngFor="let detalleCarrito of detalleCarritos; let i = index;">    
                 <td (click)="deleteRow(i,detalleCarrito.DETALLE_ID,detalleCarrito.SUBTOTAL,detalleCarrito.CARRITO_ID)" >    
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                      </svg>    
                 </td>    
                   <td>    
                       {{detalleCarrito.PRODUCTO_NOMBRE}}
                   </td>    
                   <td>    
                    {{detalleCarrito.CANTIDAD}}
                   </td>    
                   <td>    
                    {{detalleCarrito.PRODUCTO_PRECIO}} 
                   </td>
                   <td>    
                    {{detalleCarrito.SUBTOTAL}}
                </td>     
               </tr>
               <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>TOTAL: Q{{total}}</td>
              </tr>    
                
           </tbody>        
        
    </table>
  </div>
  </div>
  <div class="container text-center" style="margin-top: 5%">
    <p><h2>CREDITOS DISPONIBLES: {{creditos}}</h2>
    <button type="button" (click)="comprar(mymodal)" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@getbootstrap">Comprar</button>
  </div>

<ng-template #mymodal let-modal>

  <div class="modal-header">

    <h4 class="modal-title" id="modal-basic-title">Datos de Facturacion</h4>

    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">

      <span aria-hidden="true">Ã—</span>

    </button>

  </div>

  <div class="modal-body">

    <form>
      <div class="form-group">
        <label for="txtNombre">Nombre</label>
        <input type="text" #txtNombre class="form-control" id="txtNombre" >
      </div>
      <div class="form-group">
        <label for="txtDireccion">Direccion</label>
        <input type="text" #txtDireccion  class="form-control" id="txtDireccion" >
      </div>
      <div class="form-group">
        <label for="txtNit">Nit</label>
        <input type="text" #txtNit class="form-control" id="txtNit" >
      </div>
    </form>

  </div>

  <div class="modal-footer">
    <button type="submit" class="btn btn-primary" (click)="modal.close({'NOMBRE_FACTURA':txtNombre.value,'DIRECCION_FACTURA':txtDireccion.value,'NIT_FACTURA':txtNit.value})">Aceptar</button>
    <button type="button" class="btn btn-outline-dark" (click)="modal.dismiss()">Cancelar</button>

  </div>

</ng-template>